#!/usr/bin/perl

use strict;
use Sys::Hostname;

use constant PATH_PROJECTLIST => '/tmp/sjohnson/projectlist';

### -------

my $dev_name = shift(@ARGV);
my $url_string = shift(@ARGV);

my $cmd_args;

if (length($url_string)) {
  $cmd_args = "--url=$url_string";
}

if (length($dev_name)) {
  if (-f PATH_PROJECTLIST) {
    my $cmd = "bk-unix -f /tmp/sjohnson/projectlist -i '$dev_name' '$cmd_args'";
    system ($cmd);
  } else {
    print "Cannot find ".PATH_PROJECTLIST."\n";
    exit(2);
  }
} else {
  print "\nPurpose: Easily create a backup dev tree\n\n";
  print "\tUsage: $0 [code name] (quick url to project page)\n\n";
  exit(1);
}
