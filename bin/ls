#!/usr/bin/perl

use strict;
use v5.10.0;

# to get the maximum benefit of this script, set aliases that are typos of ls, and include this one too:
# alias 'ls-'='ls --hyphen_first_arg'

my @args_to_ls;
my $flag_hyphen_first_arg;

foreach (@ARGV) {
  when ("--hyphen_first_arg") { $flag_hyphen_first_arg = 1; }
  when (m/^(0k|l-|_L|-=l|s-l)$/i && ! grep(/^-l$/, @args_to_ls)) { push @args_to_ls, "-l"; }
  default { push @args_to_ls, $_; }
}


if ($flag_hyphen_first_arg) {
  foreach (@args_to_ls) {
    if (! m/^-/) { $_ = "-$_"; last; }
  }
}

system("/bin/ls", @args_to_ls);
